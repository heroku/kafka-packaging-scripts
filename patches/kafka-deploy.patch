diff --git a/build.gradle b/build.gradle
index d99eeec..ed28506 100644
--- a/build.gradle
+++ b/build.gradle
@@ -38,6 +38,10 @@ def jetty_version = '9.2.12.v20150709'
 def jersey_version = '2.22.1'
 
 allprojects {
+  apply plugin: 'java'
+  sourceCompatibility = 1.7
+  targetCompatibility = 1.7
+
   apply plugin: 'idea'
   repositories {
     mavenCentral()
@@ -97,6 +101,14 @@ subprojects {
       }
   }
 
+  configurations {
+    deployerJars
+  }
+
+  dependencies {
+    deployerJars "org.springframework.build:aws-maven:5.0.0.RELEASE"
+  }
+
   uploadArchives {
     repositories {
       signing {
@@ -106,9 +118,9 @@ subprojects {
           // To test locally, replace mavenUrl in ~/.gradle/gradle.properties to file://localhost/tmp/myRepo/
           mavenDeployer {
               beforeDeployment { MavenDeployment deployment -> signing.signPom(deployment) }
-              repository(url: "${mavenUrl}") {
-                  authentication(userName: "${mavenUsername}", password: "${mavenPassword}")
-              }
+              configuration = configurations.deployerJars
+              repository(url: "REPOSITORY")
+              snapshotRepository(url: "SNAPSHOT_REPOSITORY")
               afterEvaluate {
                   pom.artifactId = "${archivesBaseName}"
                   pom.project {
